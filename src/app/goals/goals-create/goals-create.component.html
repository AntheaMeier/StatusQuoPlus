<div
  cdkDropList
  #goalList="cdkDropList"
  [cdkDropListData]="goalsToOneUser"
  class="example-list"
  (cdkDropListDropped)="drop($event)">
  <mat-card class="goalsCard">ZIELE
    <mat-icon class="icon-display" *ngIf="selectedRole == 'Mitarbeiter_in'" (click)="addPostForm()">add</mat-icon>
    <mat-expansion-panel hideToggle *ngIf="addPost" [expanded]="true">
      <mat-form-field style="white-space: pre-wrap;">
                <textarea
                  [(ngModel)]="enteredContent"
                  id="content"
                  matInput rows="6"
                  name="content"
                  required
                  placeholder="Dein Goal"
                  #content="ngModel">
                </textarea>
        <mat-error *ngIf="content.invalid">Notizen eingeben</mat-error>
      </mat-form-field>
      <mat-action-row>
        <button
          mat-raised-button *ngIf=true matSuffix
          type="submit" (click)=onAddPost(idloggedInUser)>Save
        </button>
      </mat-action-row>
    </mat-expansion-panel>
    
    
      <div class="example-accordion-item-header test"  [ngStyle]="{'background-color':goal._id === showGoalid ? 'lightblue' : 'white' }" (click)="setTheSelectedGoal(goal)"
      (click)="showTasks(goal._id)"
      (click)="setGoalsid(goal._id)" *ngFor="let goal of goalsToOneUser; let index = index;">
        <div>

        <mat-card class="goals-matcard">
          {{goal.description}}
        </mat-card>

        <mat-icon *ngIf="progressArray[index] == 100 && selectedRole == 'Mitarbeiter_in'">done_outline</mat-icon>


        <mat-progress-bar  *ngIf="selectedRole == 'Mitarbeiter_in'" mode="determinate" value="{{progressArray[index]}}"></mat-progress-bar>


          <span class="example-accordion-item-description">
            <mat-icon class="button-styling" (click)="deleteDialog(goal._id)" *ngIf="selectedRole == 'Mitarbeiter_in' || currentUrl == '/'">
            cancel
          </mat-icon>

           <mat-icon class="button-styling" (click)="openDialog(goal._id)" *ngIf="selectedRole == 'Mitarbeiter_in' || currentUrl == '/'">
             edit
           </mat-icon>


        </span>

        </div>

        <div class="test" *ngIf="goal._id == showGoalid">

          <app-todo [selectedRole]="selectedRole" [idls]="idls" [tasksToOneGoal]="tasksToOneGoal" [goalid]="showGoalid"
                    [tasksToTodo]="tasksToTodo" [tasksToDoing]="tasksToDoing" [tasksToDone]="tasksToDone"
                    (newTodo)="setNewtask($event)"  (deleteTodo)= "deleteTask($event)"    (result)= "setDecision($event)"    (changedOrder) = "loadProgressNew($event)"></app-todo>
        </div>

      </div>

</mat-card>
