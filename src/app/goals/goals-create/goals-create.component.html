<div
  cdkDropList
  #goalList="cdkDropList"
  [cdkDropListData]="goalsToOneUser"
  class="example-list"
  (cdkDropListDropped)="drop($event)">
  <mat-card class="main-card">ZIELE
    <mat-icon class="icon-display" *ngIf="selectedRole == 'Mitarbeiter_in'" (click)="addPostForm()">add</mat-icon>
    <mat-expansion-panel hideToggle *ngIf="addPost" [expanded]="true">
      <mat-form-field style="white-space: pre-wrap;">
                <textarea
                  [(ngModel)]="enteredContent"
                  id="content"
                  matInput rows="6"
                  name="content"
                  required
                  placeholder="Dein Goal"
                  #content="ngModel">
                </textarea>
        <mat-error *ngIf="content.invalid">Notizen eingeben</mat-error>
      </mat-form-field>
      <mat-action-row>
        <button
          mat-raised-button *ngIf=true matSuffix
          type="submit" (click)=onAddPost(idloggedInUser)>Save
        </button>
      </mat-action-row>
    </mat-expansion-panel>
    <mat-expansion-panel *ngFor="let goal of goalsToOneUser" hideToggle
                         (click)="setTheSelectedGoal(goal)"
                         (click)="showTasks(goal._id)"
                         (click)="setGoalsid(goal._id)">
      <mat-expansion-panel-header class="small-card">
        <p class="alignment" *ngIf="!edit">{{ goal.description }}</p>
        <form [formGroup]="goalForm" (ngSubmit)="onFormSubmit(goal._id)">
            <textarea
              rows="5"
              *ngIf="edit"
              (keyup.enter)="editOnOff()"
              (keyup.enter)="onFormSubmit(goal._id)"
              (keyup.esc)="editOnOff()"
              type="submit"
              placeholder="{{ goal.description }}"
              formControlName="description"
              [(ngModel)]="enteredContent"
            >{{ goal.description }}</textarea>
        </form>
        <button mat-button color="primary" class="button-styling2" (click)="editOnOff()">
          <mat-icon class="style5">edit</mat-icon>
        </button>
        <button mat-button color="warn" (click)="deleteDialog(goal._id)" class="button-styling">
          <mat-icon class="style5">delete</mat-icon>
        </button>
      </mat-expansion-panel-header>
      <app-todo [selectedRole]="selectedRole" [tasksToOneGoal]="tasksToOneGoal" [goalid]="showGoalid"
                [tasksToTodo]="tasksToTodo" [tasksToDoing]="tasksToDoing" [tasksToDone]="tasksToDone"
      ></app-todo>
    </mat-expansion-panel>
  </mat-card>
</div>
