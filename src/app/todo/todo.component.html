<div cdkDropListGroup>
  <div
    cdkDropList
    #todoList="cdkDropList"
    [cdkDropListData]="tasksToTodo"
    class="example-list"
    (cdkDropListDropped)="dropInTodo($event)">
    <mat-card class="main-card">TODO
      <mat-icon class="icon-display" (click)="addPostForm()" *ngIf="selectedRole == 'Mitarbeiter_in'">add</mat-icon>
      <mat-expansion-panel hideToggle *ngIf="addPost" [expanded]="true">
        <mat-form-field style="white-space: pre-wrap;">
          <textarea
            [(ngModel)]="enteredContent"
            id="content"
            matInput rows="6"
            name="content"
            required
            placeholder="Deine Todo"
            #content="ngModel">
          </textarea>
          <mat-error *ngIf="content.invalid">Notizen eingeben</mat-error>
        </mat-form-field>
        <mat-action-row>
          <button
            mat-raised-button *ngIf=true matSuffix
            type="submit" (click)=addTask(goalid)>Save
          </button>
        </mat-action-row>
      </mat-expansion-panel>


      <mat-card
        class="task-card"
        *ngFor="let task of tasksToTodo"
        cdkDrag [cdkDragDisabled]="isVorgesetzte_r()">
        {{ task.description }}

        <span class="span-styling">
              <mat-icon class="button-styling" (click)="openDialog(task._id, task.description)" *ngIf="selectedRole == 'Mitarbeiter_in'">
                edit
              </mat-icon>
              <mat-icon class="button-styling" (click)="deleteDialog(task._id)" *ngIf="selectedRole == 'Mitarbeiter_in'">
                cancel
              </mat-icon>
          </span>
      </mat-card>
    </mat-card>
  </div>


  <div
    cdkDropList

    #todoList="cdkDropList"
    [cdkDropListData]="tasksToDoing"
    class="example-list"
    (cdkDropListDropped)="dropInDoing($event)">
    <mat-card class="main-card">DOING
        <mat-card
          class="task-card"
          *ngFor="let task of tasksToDoing"
          cdkDrag [cdkDragDisabled]="isVorgesetzte_r()">
          {{ task.description }}

          <span class="span-styling">
              <mat-icon class="button-styling" (click)="openDialog(task._id, task.description)" *ngIf="selectedRole == 'Mitarbeiter_in'">
                edit
              </mat-icon>
              <mat-icon class="button-styling" (click)="deleteDialog(task._id)" *ngIf="selectedRole == 'Mitarbeiter_in'">
                cancel
              </mat-icon>
          </span>
        </mat-card>
      </mat-card>
  </div>

  <div
    cdkDropList

    #todoList="cdkDropList"
    [cdkDropListData]="tasksToDone"
    class="example-list"
    (cdkDropListDropped)="dropInDone($event)">
    <mat-card class="main-card">DONE
        <mat-card
          class="task-card"
          *ngFor="let task of tasksToDone"
          cdkDrag [cdkDragDisabled]="isVorgesetzte_r()">
          {{ task.description }}

          <span class="span-styling">
              <mat-icon class="button-styling" (click)="openDialog(task._id, task.description)" *ngIf="selectedRole == 'Mitarbeiter_in'">
                edit
              </mat-icon>
              <mat-icon class="button-styling" (click)="deleteDialog(task._id)" *ngIf="selectedRole == 'Mitarbeiter_in'">
                cancel
              </mat-icon>
          </span>
        </mat-card>
      </mat-card>
  </div>
</div>
